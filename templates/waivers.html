{% extends "base.html" %}
{% block content %}
<div class="page-header">
  <h1>ðŸ”„ Waiver Wire</h1>
  <p>Available free agents - {{ pos }}</p>
</div>

<div class="filters">
  <div class="filter-group">
    <label for="position">Filter by Position:</label>
    <form method="get" style="display: inline;">
      <select name="pos" onchange="this.form.submit()">
        <option value="">ALL</option>
        {% for p in ["QB","RB","WR","TE","K","D/ST"] %}
        <option value="{{p}}" {% if pos==p %}selected{% endif %}>{{p}}</option>
        {% endfor %}
      </select>
    </form>
  </div>
</div>

<div class="players-grid">
  {% for player in players %}
  <div class="player-card">
    <div class="player-info">
      <h4>{{ player.name }}</h4>
      <div class="player-details">{{ player.pro_team }}</div>
    </div>
    <div style="display: flex; align-items: center;">
      <span class="position-badge">{{ player.pos }}</span>
      {% if player.proj %}
      <span class="projection">{{ "%.1f"|format(player.proj) }} pts</span>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>

{% if not players %}
<div class="card" style="text-align: center;">
  <h3>No players found</h3>
  <p>Try adjusting your position filter or check back later.</p>
</div>
{% endif %}
{% endblock %}
